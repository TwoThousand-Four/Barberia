{% extends 'app/base.html' %}
{%load static%}
{%block css%}
<link rel="stylesheet" href="{%static 'css/reserve.css'%}">
<link rel="stylesheet" href="{%static 'css/base.css'%}">
{%endblock css%}

{%block content%}
<br>
<div class="container">
    <div class="card">
        <div class="card-body">
            <h2>Servicios disponibles</h2>
            <hr>
            <table class="table table-striped table-hover table-responsive-sm">
                <tr>
                    <th>Nombre del servicio</th>
                    <th>Descripci√≥n</th>
                    <th>Precio</th>
                    <th>Agendar</th>
                </tr>
                {%for s in entity%}
                    <tr> 
                        <td>{{ s.nombre | title }}</td>
                        <td>{{ s.descripcion }}</td>
                        <td>${{ s.precio }}</td>
                        <td><a href="#" class="btn btn-outline-dark btn-sm">Agendar</a></td>
                    </tr>
                {%endfor%}
            </table>
            <div>
                {% include 'app/paginator.html'%}
            </div>

            <form action="{% url 'create_payment' %}" method="post">
                {% csrf_token %}
                <button type="submit">Pay with PayPal</button>
            </form>

            <!-- Intento 1 de paypal
                
                
            <div id="paypal-button-container"></div>

            <script>
                paypal.Buttons({
                    createOrder:function(data, actions){
                        return actions.order.create({
                            purchase_units:[{
                                amount:{
                                    value: '25.00'
                                }
                            }]
                        });
                    },
                    onApprove: function(data, actions){
                        return actions.order.capture().then(function(details) {
                            alert('Transaction completed by' + details.payer.name.given_name);
                        });
                    }
                }).render('#paypal-button-container')
            </script>
            -->
        </div>
    </div>
</div>


<div id="paypal-button-container">

</div>
{%endblock content%}